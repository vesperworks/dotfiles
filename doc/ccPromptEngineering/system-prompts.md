# システムプロンプトでClaudeに役割を与える

---

<Note>
While these tips apply broadly to all Claude models, you can find prompting tips specific to extended thinking models [here](/docs/en/build-with-claude/prompt-engineering/extended-thinking-tips).
</Note>

Claudeを使用する際、`system`パラメータを使用して役割を与えることで、パフォーマンスを劇的に向上させることができます。このテクニックはロールプロンプティングとして知られており、Claudeでシステムプロンプトを使用する最も強力な方法です。

適切な役割により、Claudeは一般的なアシスタントから、あなたの仮想ドメインエキスパートへと変わります！

<Tip>**システムプロンプトのヒント**: `system`パラメータを使用してClaudeの役割を設定します。タスク固有の指示などその他すべてのものは、代わりに`user`ターンに入れてください。</Tip>

## ロールプロンプティングを使用する理由

- **精度の向上:** 法的分析や財務モデリングなどの複雑なシナリオでは、ロールプロンプティングはClaudeのパフォーマンスを大幅に向上させることができます。
- **カスタマイズされたトーン:** CFOの簡潔さが必要な場合でも、コピーライターの才能が必要な場合でも、ロールプロンプティングはClaudeのコミュニケーションスタイルを調整します。
- **改善されたフォーカス:** 役割コンテキストを設定することで、Claudeはタスクの特定の要件の範囲内により留まります。

***

## Claudeに役割を与える方法

[Messages API](/docs/ja/api/messages)の`system`パラメータを使用してClaudeの役割を設定します：

```python
import anthropic

client = anthropic.Anthropic()

response = client.messages.create(
    model="claude-sonnet-4-5-20250929",
    max_tokens=2048,
    system="You are a seasoned data scientist at a Fortune 500 company.", # <-- role prompt
    messages=[
        {"role": "user", "content": "Analyze this dataset for anomalies: <dataset>{{DATASET}}</dataset>"}
    ]
)

print(response.content)
```

<Tip>**ロールプロンプティングのヒント**: 役割を試してみてください！`data scientist`は同じデータに対して`marketing strategist`とは異なる洞察を見つけるかもしれません。`data scientist specializing in customer insight analysis for Fortune 500 companies`はさらに異なる結果をもたらすかもしれません！</Tip>

***

## 例

### 例1: 法的契約分析
役割がない場合、Claudeは重大な問題を見落とす可能性があります：

<section title="ロールプロンプティングなしの法的契約分析">

| 役割 | コンテンツ |
| ---- | --- |
| ユーザー | このソフトウェアライセンス契約を潜在的なリスクについて分析してください：<br/>\<contract><br/>\{\{CONTRACT\}\}<br/>\</contract><br/><br/>補償、責任、およびIP所有権に焦点を当ててください。 |
| アシスタント | ソフトウェアライセンス契約の主要なポイントの概要は次のとおりです：<br/><br/>1. 補償（第8条）：<br/>   - 当社の使用から生じるクレームに対してベンダーに補償します。<br/><br/>2. 責任の制限（第9条）：<br/>   - 損害賠償は$500に制限されています。<br/><br/>3. IP所有権（第12条）：<br/>   - 当社は修正の所有権を保持します。<br/><br/>全体的に、契約は標準的なようです。補償と責任条項は典型的であり、当社はIP権を維持しています。 |

</section>

役割がある場合、Claudeは数百万ドルの損失をもたらす可能性のある重大な問題を捕捉します：

<section title="ロールプロンプティングを使用した法的契約分析">

| 役割 | コンテンツ |
| ---- | --- |
| ユーザー | あなたはフォーチュン500テック企業の最高法務責任者です。当社のコアデータインフラストラクチャ用にこのソフトウェアライセンス契約を検討しています：<br/>\<contract><br/>\{\{CONTRACT\}\}<br/>\</contract><br/><br/>潜在的なリスク、特に補償、責任、およびIP所有権に焦点を当てて分析してください。あなたの専門的な意見を提供してください。 |
| アシスタント | ソフトウェアライセンス契約を確認しましたが、当社を重大なリスクにさらす可能性のある深刻な懸念があります：<br/><br/>1. 補償（第8条）：<br/>   - 重大な問題: 当社は当社の使用から生じる「あらゆるクレーム」に対してベンダーに補償します。<br/>   - リスク: これはベンダーの過失または製品欠陥に対しても当社を責任を負わせる可能性があります。<br/>   - 推奨: 拒否。当社の補償を契約違反から生じるクレームに限定してください。<br/><br/>2. 責任の制限（第9条）：<br/>   - 重大な問題: 直接損害を含む損害賠償が$500に制限されています。<br/>   - リスク: 極めて不十分です。当社のデータインフラストラクチャの重大な障害は、失われた収益と評判の損害で数百万ドルの損失をもたらす可能性があります。<br/>   - 推奨: 拒否。直接損害については月額料金の12ヶ月分に上限を交渉し、データ侵害の除外を含めてください。<br/><br/>3. IP所有権（第12条）：<br/>   - 重大な問題: ベンダーは当社の修正と統合の共同所有権を取得します。<br/>   - リスク: 彼らは当社の専有アルゴリズムまたはデータ洞察を競合他社に使用または販売する可能性があります。<br/>   - 推奨: 拒否。当社は当社の作業の完全な所有権を保持する必要があります。<br/><br/>専門的な意見: この契約に署名しないでください。これは極めて不利であり、受け入れられないレベルのリスクにさらします。ベンダーがこれらの条件の再交渉を拒否する場合、代替プロバイダーの検討またはインハウスソリューションの加速を強くお勧めします。この契約を進める可能性のあるコストは、短期的な利益をはるかに上回ります。 |

</section>

### 例2: 財務分析
役割がない場合、Claudeの分析は深さに欠けます：

<section title="ロールプロンプティングなしの財務分析">

| 役割 | コンテンツ |
| ---- | --- |
| ユーザー | 当社のQ2財務データセットを分析してください：<br/>\<data><br/>\{\{FINANCIALS\}\}<br/>\</data><br/><br/>主要なトレンドをハイライトし、アクションを推奨してください。 |
| アシスタント | あなたのQ2財務の概要は次のとおりです：<br/><br/>1. 収益: $15.2M、前年同期比22%増。エンタープライズクライアントベースは30%増加しました。<br/>2. グロスマージン: 72%、Q1から3%増加。<br/>3. EBITDAマージン: 18%、R&D投資により2%減少。<br/>4. キャッシュフロー: 営業$4.1M、準備金$28M。<br/><br/>全体的に、財務は収益成長と健全なマージンで強力に見えます。R&D支出の増加は収益性に影響していますが、長期的には報われる可能性があります。現在のコースを維持してください。 |

</section>

役割がある場合、Claudeは実行可能な洞察を提供します：

<section title="ロールプロンプティングを使用した財務分析">

| 役割 | コンテンツ |
| ---- | --- |
| ユーザー | あなたは高成長B2B SaaS企業のCFOです。当社はQ2財務について取締役会会議で議論しています：<br/>\<data><br/>\{\{FINANCIALS\}\}<br/>\</data><br/><br/>主要なトレンドを分析し、懸念をフラグし、戦略的アクションを推奨してください。当社の投資家は積極的な成長を望んでいますが、当社のバーンレートに警戒しています。 |
| アシスタント | 取締役会メンバーの皆様、当社のQ2財務の分析は次のとおりです：<br/><br/>1. 収益（$15.2M、+22% YoY）：<br/>   - 洞察: エンタープライズ成長（+30%）は全体的な成長を上回っています。<br/>   - フラグ: SMBセグメントは5%減少しました。<br/>   - アクション: SMBマーケティング予算の20%をエンタープライズセールスに再配分してください。製品タスクをSMBオンボーディングを簡素化するように指示してください。<br/><br/>2. マージン（グロス: 72%、+3% QoQ; EBITDA: 18%、-2% QoQ）：<br/>   - 洞察: インフラストラクチャの最適化がグロスマージンを向上させました。<br/>   - フラグ: AI機能のR&D支出がEBITDAを減少させました。<br/>   - アクション: 変更なし。当社のAIロードマップはエンタープライズの粘着性に重要です。<br/><br/>3. キャッシュ（$4.1M OCF、$28M準備金）：<br/>   - 洞察: 現在のバーンレートで15ヶ月のランウェイ。<br/>   - フラグ: CACが20%増加し、LTV/CACを侵食しています。<br/>   - アクション: 非必須の採用を凍結してください。セールスファネル分析を実装してQ3でCACを15%削減してください。<br/><br/>戦略的スタンス: 当社は成長とバーンの間で針を通しています。エンタープライズフォーカスは当社の成長エンジンです。そこに投資してください。しかし、SMBチャーンを監視してください。エンタープライズに流出する可能性があります。当社のAIベットは健全ですが、Q4までにそれをARRに変換する必要があります。そうでなければ、R&Dを30%削減します。<br/><br/>要約: エンタープライズに倍増し、SMBを合理化し、セールスを最適化し、AIを収益化してください。ご質問はありますか？ |

</section>

---

<CardGroup cols={3}>
  <Card title="プロンプトライブラリ" icon="link" href="/docs/ja/resources/prompt-library/library">
    様々なタスクとユースケース用のキュレーションされたプロンプトの選択に触発されてください。
  </Card>
  <Card title="GitHubプロンプティングチュートリアル" icon="link" href="https://github.com/anthropics/prompt-eng-interactive-tutorial">
    当社のドキュメントに記載されているプロンプトエンジニアリングの概念をカバーする例が豊富なチュートリアル。
  </Card>
  <Card title="Google Sheetsプロンプティングチュートリアル" icon="link" href="https://docs.google.com/spreadsheets/d/19jzLgRruG9kjUQNKtCg1ZjdD6l6weA6qRXG5zLIAhC8">
    インタラクティブなスプレッドシート経由での当社のプロンプトエンジニアリングチュートリアルの軽量版。
  </Card>
</CardGroup>