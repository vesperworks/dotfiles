---
created: 2025-06-06T10:29
updated: 2025-06-12T18:40
---
# Claudeのメモリを管理する

> Claude Codeのメモリを異なるメモリロケーションとベストプラクティスを使用してセッション間で管理する方法を学びます。

Claude Codeはスタイルガイドラインやワークフローでの一般的なコマンドなど、あなたの設定をセッション間で記憶することができます。

## メモリタイプの決定

Claude Codeは3つのメモリロケーションを提供し、それぞれ異なる目的を果たします：

| メモリタイプ              | 場所                    | 目的               | 使用例                               |
| ------------------- | --------------------- | ---------------- | --------------------------------- |
| **プロジェクトメモリ**       | `./CLAUDE.md`         | プロジェクト用のチーム共有指示  | プロジェクトアーキテクチャ、コーディング標準、一般的なワークフロー |
| **ユーザーメモリ**         | `~/.claude/CLAUDE.md` | すべてのプロジェクト用の個人設定 | コードスタイル設定、個人的なツールのショートカット         |
| **プロジェクトメモリ（ローカル）** | `./CLAUDE.local.md`   | プロジェクト固有の個人設定    | *(非推奨、以下参照)* サンドボックスURL、優先テストデータ  |

すべてのメモリファイルは、Claude Codeが起動されると自動的にコンテキストに読み込まれます。

## CLAUDE.mdのインポート

CLAUDE.mdファイルは`@path/to/import`構文を使用して追加ファイルをインポートできます。次の例では3つのファイルをインポートしています：

```
プロジェクト概要は@READMEを、このプロジェクトで利用可能なnpmコマンドは@package.jsonを参照してください。

# 追加指示
- gitワークフロー @docs/git-instructions.md
```

相対パスと絶対パスの両方が許可されています。特に、ユーザーのホームディレクトリ内のファイルをインポートすることは、チームメンバーがリポジトリにチェックインされていない個別の指示を提供するための便利な方法です。以前はCLAUDE.local.mdが同様の目的を果たしていましたが、複数のgitワークツリー間でより適切に機能するため、現在はインポートを優先して非推奨となっています。

```
# 個人設定
- @~/.claude/my-project-instructions.md
```

潜在的な衝突を避けるため、マークダウンのコードスパンとコードブロック内ではインポートは評価されません。

```
このコードスパンはインポートとして扱われません: `@anthropic-ai/claude-code`
```

インポートされたファイルは、最大5ホップの深さで追加ファイルを再帰的にインポートできます。`/memory`コマンドを実行することで、どのメモリファイルが読み込まれているかを確認できます。

## Claudeがメモリを検索する方法

Claude Codeはメモリを再帰的に読み取ります：現在の作業ディレクトリから始めて、Claude Codeは\_/\_まで再帰的に上り、見つかったCLAUDE.mdまたはCLAUDE.local.mdファイルを読み取ります。これは、\_foo/bar/\_でClaude Codeを実行し、\_foo/CLAUDE.md\_と\_foo/bar/CLAUDE.md\_の両方にメモリがある大規模なリポジトリで作業する場合に特に便利です。

Claudeは現在の作業ディレクトリの下のサブツリー内にネストされたCLAUDE.mdも検出します。起動時に読み込むのではなく、Claudeがそれらのサブツリー内のファイルを読み取るときにのみ含まれます。

## `#`ショートカットでメモリをすばやく追加

メモリを追加する最速の方法は、入力を`#`文字で始めることです：

```
# 常に説明的な変数名を使用する
```

どのメモリファイルに保存するかを選択するよう促されます。

## `/memory`でメモリを直接編集

セッション中に`/memory`スラッシュコマンドを使用して、システムエディタでメモリファイルを開き、より広範な追加や整理を行うことができます。

## メモリのベストプラクティス

* **具体的に**：「2スペースのインデントを使用する」は「コードを適切にフォーマットする」よりも優れています。
* **構造を使用して整理する**：各メモリを箇条書きとしてフォーマットし、関連するメモリを説明的なマークダウン見出しの下にグループ化します。
* **定期的に見直す**：プロジェクトの進化に合わせてメモリを更新し、Claudeが常に最新の情報とコンテキストを使用していることを確認します。
